<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>MyMemes</title>
    <link rel="stylesheet" href="memes.css">
    <script src="memeDev.js" defer></script>
</head>
<body>
    <div id="cronk">
        
    </div>
    <h1 id="user" style="top: 10%; left: 40%; position: absolute; color: gold;"></h1>
    <h1>Welcome to MyMemes!</h1>
    <div id="menuBorder">
        <nav>
            <a href="Memes.html">Home</a>
            <a href="profile.html">Profile</a>
            <a href="all">Users</a>
            <a href="memeLoginPage.html" id="logout">Log Out</a>
        </nav>     
        <div id="menu">   
            <input type="text" placeholder="Paste Meme Image Link" id="item">
            <input type="button" id="addBtn" value="Add">
            <input type="button" id="clearInputs" value="Clear Fields">
            <input type="button" id="clearBtn" value="Clear All Memes">
        </div> 
    </div>  
    <h2 id ='memeHeader' class="">Your Memes Here</h2>
    <div id="memes" style="border: 5px; border-color: black;">
    </div>  
    <script>
        let user;// = localStorage.getItem('username');
        let pic;// = localStorage.getItem('userpic');

        async function getUser() {
            let res = await fetch('http://localhost:3000/user')
            res.text().then((data)=>{
                document.querySelector('#user').textContent = 'Hello ' + data +'!';
                user = data;
                localStorage.setItem('username', user);
            });
        }

        if(user == null){   
            getUser();
        } else {
            document.querySelector('#user').textContent = 'Hello ' + user +'!';
        }

        // async function getPic() {
        //     let res = await fetch('http://localhost:3000/pic')
        //     res.text().then((data)=>{
        //         document.querySelector('#pic').innerHTML = '<img src='+ data +' >';
        //         pic = data;
        //         localStorage.setItem('userpic', pic);
        //     });
        // }

        // if(pic == null){   
        //     getPic();
        // } else {
        //     document.querySelector('#pic').innerHTML = '<img src='+ pic +' >';
        // }

        function addCronk(){
            let cronk = document.querySelector('#cronk');
            // cronk.innerHTML += '<img id="viewport2" src="https://gsrc.ucr.edu/sites/default/files/styles/form_preview/public/kronk.gif?itok=wQfBUXXg">';
            cronk.innerHTML += '<img id="viewport" src="https://gsrc.ucr.edu/sites/default/files/styles/form_preview/public/kronk.gif?itok=wQfBUXXg">';
        } addCronk();
    </script>
</body>
</html>
